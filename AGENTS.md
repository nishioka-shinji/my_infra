# AGENTS.md

このドキュメントは、AIソフトウェアエンジニアリングエージェントがこのリポジトリで作業する際のガイドラインを記載しています。

## Terraformのコーディング規約

Terraformのコードを記述する際は、以下の規約に従ってください。

1.  **`data`リソースの分離**
    *   すべての`data`リソースは、`data.tf`という名前の専用ファイルにまとめて記述してください。これにより、データソースの参照が容易になります。

2.  **フォーマット**
    *   コードを変更した際は、必ず`terraform fmt`コマンドを実行して、コードを整形してください。

## 一般的なガイドライン

*   **コミットメッセージ**: Conventional Commitsの規約に従ってください。
*   **Pull Request**: Pull Requestのタイトルと説明は、日本語で記述してください。
*   **テスト**: 変更を加えた後は、関連するテスト（統合テスト、ユニットテストなど）を実行して、既存の機能に影響がないことを確認してください。
*   **機密情報**: APIキーやパスワードなどの機密情報をコードにハードコードしないでください。

## ワークフロー自動化

特定のキーワードに応じて、以下の操作を自動で実行してください。

### GKEの起動・停止

-   **キーワード**: `!gke_start`
-   **アクション**: 以下の内容でPull Requestを作成してください。
    -   **ファイル**: `k8s/gcp/atlantis/helm-release.yaml`
    -   **変更点**:
        -   `spec.values.replicaCount`: `1`

-   **キーワード**: `!gke_stop`
-   **アクション**: 以下の内容でPull Requestを作成してください。
    -   **ファイル**: `k8s/gcp/atlantis/helm-release.yaml`
    -   **変更点**:
        -   `spec.values.replicaCount`: `0`
